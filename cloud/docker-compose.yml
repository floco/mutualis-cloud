# Services to include:
# - keeweb
# - c9.io
# - nextcloud, projectsend or pydio
# - ansible silo
# - strapi.io


version: '3'
services:

  smokeping:
    image: linuxserver/smokeping
    container_name: smokeping
    volumes:
      - ${VOLUMES_ROOT}/smokeping/config:/config
      - ${VOLUMES_ROOT}/smokeping/data:/data
    ports:
      - "8001:80"
    environment:
      - PUID=${PUID}
      - PGID=${PGID}
      - TZ=Europe/Paris
    restart: always

  portainer:
    image: portainer/portainer
    container_name: portainer
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
      - ${VOLUMES_ROOT}/portainer:/data
    ports:
      - "9000:9000"
    restart: always
    
  code-server:
    image: linuxserver/code-server
    container_name: code-server
    environment:
      - PUID=${PUID}
      - PGID=${PGID}
      - TZ=Europe/Paris
      - PASSWORD=${CODE_PASSWORD}
      - SUDO_PASSWORD=${CODE_SUDO_PASSWORD}
      - PROXY_DOMAIN=code-server.mutualis.com
    volumes:
      - ${VOLUMES_ROOT}/code-server:/config
    ports:
      - 8002:8443
    restart: unless-stopped
 
  # GUACAMOLE: remote access
  guacamole:
    image: oznu/guacamole
    container_name: guacamole
    # environment:
    #   - "EXTENSIONS=auth-duo"
    volumes:
      - ${VOLUMES_ROOT}/guacamole:/config
    ports:
      - "9001:8080"
    restart: always
